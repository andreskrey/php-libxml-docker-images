language: bash
services: docker

env:
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.9
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.8
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.7
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.6
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.5
  - PHP_VERSION=7.3 LIBXML_VERSION=2.9.4
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.9
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.8
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.7
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.6
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.5
  - PHP_VERSION=7.2 LIBXML_VERSION=2.9.4
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.9
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.8
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.7
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.6
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.5
  - PHP_VERSION=7.1 LIBXML_VERSION=2.9.4
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.9
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.8
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.7
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.6
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.5
  - PHP_VERSION=7.0 LIBXML_VERSION=2.9.4

script:
  - |
    (
      set -Eeuo pipefail
      set -x
      docker build --build-arg php_version=${PHP_VERSION} --build-arg libxml_version=${LIBXML_VERSION} -t "php-$PHP_VERSION-libxml-$LIBXML_VERSION" .
    )

after_script:
  - docker images
